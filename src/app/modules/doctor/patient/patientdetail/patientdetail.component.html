<ngx-spinner></ngx-spinner>
<div class="patient-detail-page w-full">
    <div class="inner-page-header">
        <button mat-button class="back-btn" (click)="onBackPatient()">
            <img src="../../../../../assets/back-arrow.svg" alt="" /> Back to
            Patient Record
        </button>
    </div>
    <div class="section-header">
        <h2>Patient Details</h2>
        <div class="header-items">
            <!-- <button
                mat-stroked-button
                class="outline-btn"
                matTooltip="Add To Do"
            >
                Add To Do
            </button>
            <button
                mat-stroked-button
                class="outline-btn"
                matTooltip="Add Notes"
                (click)="manualLog()"
            >
                Add Notes
            </button> -->
            <button
                matTooltip="Download Reports"
                mat-button
                class="download-btn"
                (click)="exportPatientDetails()"
            >
                <img
                    matSuffix
                    src="../../../../../assets/download.svg"
                    alt=""
                />
                Download Reports
            </button>
        </div>
    </div>

    <div *ngIf="Message" class="toast-container {{ MessageClass }}">
        <p>{{ Message }}</p>
    </div>
    <div class="patient-widget">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="patient-widget-block">
                <div class="patient-card">
                    <div class="patient-card-header">
                        <div class="patient-profile-img">
                            <img
                                *ngIf="defaultimg"
                                class="profile-img"
                                style="height: 100%"
                                src="assets/images/avatars/profile.jpg"
                                alt=""
                            />
                            <img
                                *ngIf="imgURL"
                                [src]="imgURL"
                                class="profile-img"
                            />
                        </div>

                        <div class="patient-profile-info">
                            <div class="action-block">
                                <button mat-icon-button>
                                    <img
                                        src="../../../../../assets/delete.svg"
                                        alt=""
                                        (click)="onDeletePatient()"
                                    />
                                </button>
                                <button mat-icon-button>
                                    <img
                                        src="../../../../../assets/edit.svg"
                                        alt=""
                                        (click)="onUpdatePatient()"
                                    />
                                </button>
                            </div>
                            <div class="profile-info-container">
                                <p class="name">
                                    {{ first_name }} {{ last_name }}
                                </p>
                                <span>{{ Gender }}, {{ Age }} </span>
                                <span class="status active">{{ Status }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="patient-card-body">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                            <div class="patient-content">
                                <label>MRN</label>
                                <p>{{ MRN }}</p>
                            </div>
                            <div class="patient-content">
                                <label>Date of birth</label>
                                <p>{{ DOB }}</p>
                            </div>
                            <div class="patient-content">
                                <label>Mobile phone number</label>
                                <p>
                                    +{{countryCode}} {{ MobileNumber | mask: "(000) 000-0000" }}
                                </p>
                            </div>
                            <div class="patient-content">
                                <label>Location</label>
                                <p>{{ City }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-span-2 patient-widget-block">
                <div class="time-card">
                    <div class="time-card-header">
                        <h3>Consulting Time</h3>
                        <label
                            >The current code is :
                            <span *ngIf="currentCode1">{{ currentCode1 }}</span
                            ><span *ngIf="currentCode2"
                                >, {{ currentCode2 }}</span
                            ><span *ngIf="currentCodeNumber"
                                >({{ currentCodeNumber }})</span
                            ></label
                        >
                        <div class="right-col">
                            <!-- <button
                                matTooltip="Download Reports"
                                mat-button
                                class="download-btn"
                            >
                                <img
                                    matSuffix
                                    src="../../../../../assets/download.svg"
                                    alt=""
                                />
                                Download Reports
                            </button> -->
                        </div>
                    </div>
                    <div class="time-card-body">
                        <div
                            class="
                                grid grid-cols-1
                                lg:grid-cols-5
                                gap-5
                                items-center
                            "
                        >
                            <div class="timer-block col-span-2">
                                <div class="timer">
        
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 140 140" style="enable-background:new 0 0 140 140;" xml:space="preserve">
<style type="text/css">
	.st0{fill:none;stroke:#FEC5C5;stroke-width:3.48;}
</style>
<path id="Path_1-2" class="st0" d="M98.4,14.3c-11.8,0-22.6,6.3-28.4,16.6c-5.8-10.3-16.6-16.6-28.4-16.6C23.6,14.3,9,31,9,49
	c0,45.2,61,76.8,61,76.8s61-31.6,61-76.8C131,31,116.4,14.3,98.4,14.3"/>
<g>
	<defs>
		<path id="SVGID_1_" d="M70,122.2c-9.1-5.1-57.9-34.2-57.9-73.2c0-16.8,13.8-31.6,29.5-31.6c10.6,0,20.4,5.7,25.7,15l2.7,4.8
			l2.7-4.9c5.2-9.3,15-15,25.7-15c15.7,0,29.5,14.8,29.5,31.6C127.9,88,79.1,117.1,70,122.2"/>
	</defs>
	<clipPath id="SVGID_00000044177229876698596080000015076631232489168823_">
		<use xlink:href="#SVGID_1_"  style="overflow:visible;"/>
	</clipPath>
	<g style="clip-path:url(#SVGID_00000044177229876698596080000015076631232489168823_);">
		<g id="Mask_Group_5">
			<path id="timer-fill" [attr.fill]="colorFill" d="M-10.9,95c23.7-6.1,48-8.3,70.7-3.9s52.5,5.5,84.5,0c27.9-5,56.6-3.7,83.9,3.9
				c24.3,6.6,69,0.6,88.9-3.9s56.9,6.7,56.9,6.7L369,227l-404.7,5L-10.9,95z"
                [ngStyle]="{'transform': 'translate( 0px, ' + heartValue + 'px)'}"
                />
                <!--full : translate(0,-80) -->

                <!-- 20 min : fill: #d7241c;
                40 min : fill: #a71a14;
                1hour : fill: #79100c; -->
		</g>
	</g>
</g>
</svg>

                                </div>
                                <div class="clock-legend">
                                    <p class="in-time"><i></i>99457</p>
                                    <p class="exceed-time"><i></i>99458</p>
                                </div>
                                <!-- <button (click)="toggle()">toggle</button>  
                                <div class="clock">
                                    <div class="analog-clock">
                                        <div
                                            class="hour hand"
                                            [ngStyle]="hourHandStyle"
                                        ></div>
                                        <div
                                            class="minute hand"
                                            [ngStyle]="minuteHandStyle"
                                        ></div>
                                        <div
                                            class="second hand"
                                            [ngStyle]="secondHandStyle"
                                        ></div>
                                        <div class="center-circle"></div>
                                    </div>
                                   <div class="digital-clock">{{format(hour)}}:{{format(minute)}}:{{format(second)}}</div>
                                </div> -->
                            </div>
                            <div class="timer-info-block col-span-3">
                                <div
                                    class="
                                        grid grid-cols-1
                                        sm:grid-cols-2
                                        gap-5
                                    "
                                >
                                    <div class="timer-content">
                                        <label
                                            >Total time spent this month:</label
                                        >
                                        <!-- <p>12 mins 14 secs</p> -->
                                        <p>
                                            {{ TThours }} hours
                                            {{ TTminutes }} mins
                                            {{ TTseconds }} secs
                                        </p>
                                    </div>
                                    <div class="timer-content">
                                        <label
                                            >Billable time recorded for current
                                            code:</label
                                        >
                                        <!-- <p>12 mins 14 secs</p> -->
                                        <p>
                                            {{ BThours }} hours
                                            {{ BTminutes }} mins
                                            {{ BTseconds }} secs
                                        </p>
                                    </div>
                                    <div class="timer-content">
                                        <label>Time remaining:</label>
                                        <p>
                                            {{ TRminutes }} mins
                                            {{ TRseconds }} secs
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="time-card-footer">
                        <button
                            *ngIf="startbutton"
                            mat-flat-button
                            class="start-btn"
                            (click)="startTimer()"
                        >
                            <img
                                matSuffix
                                src="../../../../../assets/play.svg"
                                alt=""
                            />

                            Start Timer
                        </button>
                        <button
                            *ngIf="endbutton"
                            mat-flat-button
                            class="stop-btn"
                            (click)="pauseTimer()"
                        >
                            <img
                                matSuffix
                                src="../../../../../assets/pause.svg"
                                alt=""
                            />

                            Pause Timer
                        </button>
                        <button
                            mat-flat-button
                            color="primary"
                            (click)="manageTime()"
                        >
                            <img
                                matSuffix
                                src="../../../../../assets/time.svg"
                                alt=""
                            />

                            Manage Recorded Time
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="table-container">
        <div class="table-filter">
            <mat-button-toggle-group class="tab-filter" [value]="selectedState">
                <mat-button-toggle
                    matTooltip="Periodic Vitals"
                    value="vitals"
                    (click)="changeTab(1)"
                    >Vitals</mat-button-toggle
                >

                <mat-button-toggle
                    matTooltip="To Do"
                    value="todo"
                    (click)="changeTab(2)"
                    >To Do <strong>({{ totaltodo }})</strong>
                </mat-button-toggle>
                <mat-button-toggle
                    matTooltip="Notes"
                    value="notes"
                    (click)="changeTab(3)"
                    >Notes</mat-button-toggle
                >
                <mat-button-toggle
                    matTooltip="To Do"
                    value="alerts"
                    (click)="changeTab(4)"
                    >Alerts
                    <strong
                        >({{ totalAlert }})

                        <i class="indicator" *ngIf="totalAlert > 0"></i>
                    </strong>
                </mat-button-toggle>
                <mat-button-toggle
                    matTooltip="Message Patient"
                    value="message"
                    (click)="changeTab(5)"
                    >Message Patient</mat-button-toggle
                >
            </mat-button-toggle-group>
            <div class="action-block ml-auto">
                <button
                    mat-stroked-button
                    class="outline-btn"
                    matTooltip="Manage Threshold"
                    (click)="manageThreshold()"
                >
                    Manage Threshold
                </button>
            </div>
        </div>
        <div class="patient-details-tab-container" #myElem>
            <div class="vital-tab" *ngIf="vitals == '1'">
                <div class="vital-tab-header">
                    <mat-button-toggle-group class="inner-tab">
                        <mat-button-toggle
                            matTooltip="Periodic Vitals"
                            value="1"
                            (click)="changeVitals(1)"
                            [checked]="selectedStatePeriodicVital"
                            >Periodic Vitals</mat-button-toggle
                        >

                        <mat-button-toggle
                            matTooltip="Avg Monthly Vitals"
                            value="2"
                            (click)="changeVitals(2)"
                            [checked]="selectedStateAvgMonthlyVital"
                            >Avg Monthly Vitals
                        </mat-button-toggle>

                        <mat-button-toggle
                            matTooltip="Monthly BP"
                            value="3"
                            (click)="changeVitals(3)"
                            [checked]="selectedStateMonthlyVital"
                            >Monthly BP
                        </mat-button-toggle>
                    </mat-button-toggle-group>

                    <mat-form-field
                        appearance="fill"
                        class="outline-input period-picker ml-auto"
                        *ngIf="periodicVitals == 2 || periodicVitals == 3"
                    >
                        <mat-date-range-input
                            [formGroup]="range"
                            [rangePicker]="picker"
                            [max]="todayDate"
                        >
                            <input
                                matStartDate
                                formControlName="start"
                                #dateRangeStart
                                placeholder="Select Period"
                                readonly
                            />
                            <input
                                matEndDate
                                formControlName="end"
                                #dateRangeEnd
                                (dateChange)="
                                    dateRangeChangePickerForMonthlyVital(
                                        dateRangeStart,
                                        dateRangeEnd
                                    )
                                "
                                readonly
                            />
                        </mat-date-range-input>
                        <mat-datepicker-toggle matSuffix [for]="picker">
                            <img
                                matDatepickerToggleIcon
                                style="width: 15px"
                                src="../../../../../assets/calendar.svg"
                                alt=""
                            />
                        </mat-datepicker-toggle>
                        <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->

                        <mat-date-range-picker #picker></mat-date-range-picker>
                    </mat-form-field>

                    <!-- <mat-form-field
                        style="width: 150px"
                        appearance="fill"
                        class="ml-auto vital-filter-select"
                        *ngIf="periodicVitals == 2"
                    >
                        <mat-select
                            id="selectmonth"
                            [(value)]="monthSelectedMonthly"
                            (selectionChange)="onChangeMonthSelcted($event)"
                            class="selectmonth"
                        >
                            <mat-option
                                *ngFor="let month of MonthList"
                                [value]="month.value"
                                [disabled]="month.disabled"
                            >
                                {{ month.name }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field> -->
                    <!-- <button
                        *ngIf="periodicVitals == 2"
                        matTooltip="Download Reports"
                        mat-button
                        class="download-btn ml-4"
                    >
                        <img
                            matSuffix
                            src="../../../../../assets/download.svg"
                            alt=""
                        />
                        Download Reports
                    </button> -->
                </div>
                <div class="vital-tab-body" style="padding-bottom: 30px">
                    <div class="periodic-vital" *ngIf="periodicVitals == 1">
                        <div class="table-wrapper">
                            <div class="table-container">
                                <div class="table-block">
                                    <table
                                        mat-table
                                        [dataSource]="periodicVitalList"
                                    >
                                        <!-- date Column -->
                                        <ng-container matColumnDef="Period">
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                Period
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                {{
                                                    element.iteration
                                                        .displayName
                                                }}
                                            </td>
                                        </ng-container>
                                        <ng-container
                                            matColumnDef="Avg Sys(mmHg)/Avg Dia(mmHg)"
                                        >
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                Avg Sys(mmHg)/Avg Dia(mmHg)
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                {{
                                                    element.Avgsystolic != null
                                                        ? element.Avgsystolic +
                                                          " / " +
                                                          element.AvgDiastolic +
                                                          " mmHg"
                                                        : "N/A"
                                                }}
                                            </td>
                                        </ng-container>
                                        <ng-container
                                            matColumnDef="Highest Lowest Sys(mmHg)"
                                        >
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                Highest Lowest Sys(mmHg)
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                <span
                                                    *ngIf="
                                                        element.Maxsystolic ===
                                                        null
                                                    "
                                                >
                                                    N/A </span
                                                ><span
                                                    *ngIf="
                                                        element.Maxsystolic !==
                                                        null
                                                    "
                                                >
                                                    {{ element.Maxsystolic }}/{{
                                                        element.Minsystolic
                                                    }}
                                                    mmHg
                                                </span>
                                            </td>
                                        </ng-container>
                                        <ng-container
                                            matColumnDef="Highest Lowest Dia(mmHg)"
                                        >
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                Highest Lowest Dia(mmHg)
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                <span
                                                    *ngIf="
                                                        element.MaxDiastolic ===
                                                        null
                                                    "
                                                >
                                                    N/A </span
                                                ><span
                                                    *ngIf="
                                                        element.MaxDiastolic !==
                                                        null
                                                    "
                                                >
                                                    {{
                                                        element.MaxDiastolic
                                                    }}/{{
                                                        element.MinDiastolic
                                                    }}
                                                    mmHg
                                                </span>
                                            </td>
                                        </ng-container>
                                        <ng-container
                                            matColumnDef="# of Readings"
                                        >
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                # of Readings
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                {{
                                                    element.no_of_read != null
                                                        ? element.no_of_read
                                                        : "N/A"
                                                }}
                                            </td>
                                        </ng-container>
                                        <!-- <ng-container
                                            matColumnDef="Avg of Pulse(bpm)"
                                        >
                                            <th
                                                mat-header-cell
                                                *matHeaderCellDef
                                            >
                                                Avg of Pulse(bpm)
                                            </th>
                                            <td
                                                mat-cell
                                                *matCellDef="let element"
                                            >
                                                {{
                                                    element.Avgpulse != null
                                                        ? element.Avgpulse +
                                                          " bpm"
                                                        : "N/A"
                                                }}
                                            </td>
                                        </ng-container> -->

                                        <tr
                                            mat-header-row
                                            *matHeaderRowDef="
                                                displayedColumnsPV
                                            "
                                        ></tr>
                                        <tr
                                            mat-row
                                            *matRowDef="
                                                let row;
                                                columns: displayedColumnsPV
                                            "
                                        ></tr>
                                    </table>
                                    <div *ngIf="periodicVitalList.length === 0">
                                        No records found
                                    </div>
                                </div>
                                <!-- <mat-paginator
                                    style="background: #f1f2f8"
                                    [length]="total"
                                    [pageSize]="requestParam.pasgesize"
                                    [pageSizeOptions]="[5, 10, 25, 100]"
                                    (page)="getServerData($event)"
                                    aria-label="Select page"
                                >
                                </mat-paginator> -->
                            </div>
                        </div>
                    </div>
                    <div class="monthly-vital" *ngIf="periodicVitals == 2">
                        <div class="chart-block">
                            <div class="chart-block-header">
                                <div class="PeriodicText">
                                    <!-- <div class="periodic-col">
                                        <label>IHB</label>
                                        <p>1</p>
                                    </div> -->
                                    <div class="periodic-col">
                                        <label>Average Sys</label>
                                        <p>{{ AverageSys }}mmHG</p>
                                    </div>
                                    <div class="periodic-col">
                                        <label>Average Dia</label>
                                        <p>{{ AverageDia }}mmHG</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-block-body">
                                <!-- <canvas
                                    baseChart
                                    height="320"
                                    [datasets]="lineChartData"
                                    [labels]="lineChartLabels"
                                    [options]="lineChartOptions"
                                    [colors]="lineChartColors"
                                    [legend]="lineChartLegend"
                                    [chartType]="lineChartType"
                                    [plugins]="lineChartPlugins"
                                >
                                </canvas> -->
                                <div id="chart" *ngIf="chartOptionsLineEnalbe">
                                    <apx-chart
                                        [series]="chartOptionsLine.series"
                                        [chart]="chartOptionsLine.chart"
                                        [xaxis]="chartOptionsLine.xaxis"
                                        [stroke]="chartOptionsLine.stroke"
                                        [tooltip]="chartOptionsLine.tooltip"
                                        [dataLabels]="chartOptionsLine.dataLabels"
                                        [legend]="chartOptionsLine.legend"
                                        [markers]="chartOptionsLine.markers"
                                        [grid]="chartOptionsLine.grid"
                                        [yaxis]="chartOptionsLine.yaxis"
                                        [title]="chartOptionsLine.title"
                                    ></apx-chart>
                                </div>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <div class="table-container">
                                <div class="table-block">
                                    <ngx-datatable
                                        class="material fullscreen"
                                        [rows]="(serverResponse | async) || []"
                                        [headerHeight]="$any('auto')"
                                        [footerHeight]="0"
                                        rowHeight="auto"
                                        [scrollbarH]="true"
                                        [externalPaging]="true"
                                        [count]="page1.totalElements"
                                        [offset]="page1.pageNumber"
                                        (page)="setPage($event)"
                                        (sort)="onSort($event)"
                                    >
                                        <ngx-datatable-column
                                            name="Reading Date"
                                            [sortable]="false"
                                            [width]="250"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                {{ row.entry_time }}
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            [cellClass]="'text-hidden'"
                                            name="Sys(mmHg)"
                                            [width]="300"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{
                                                        row.systolic
                                                    }}"
                                                >
                                                    {{ row.systolic }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            name="Dia(mmHg)"
                                            [width]="250"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{
                                                        row.diastolic
                                                    }}"
                                                >
                                                    {{ row.diastolic }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            name="BPM"
                                            [width]="100"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{ row.pulse }}"
                                                >
                                                    {{ row.pulse }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>
                                        <ngx-datatable-column name="Username" [minWidth]="170" 
                                            [resizeable]="false" [sortable]="false">
                                          <ng-template let-column="column" ngx-datatable-header-template >
                                            <mat-button-toggle
                                                        matTooltip="Message Patient"
                                                        value="message"
                                                        (click)="msgPatient()"
                                                        >Message Patient</mat-button-toggle
                                                    >
                                          </ng-template>
                                      </ngx-datatable-column>
                                        <!-- <ngx-datatable-column
                                            name="IHB"
                                            [sortable]="false"
                                            [width]="170"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <p>-</p>
                                            </ng-template>
                                        </ngx-datatable-column> -->

                                        <!-- <ngx-datatable-column
                                            name="Movement"
                                            [sortable]="false"
                                            [width]="150"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <p>-</p>
                                            </ng-template>
                                        </ngx-datatable-column> -->

                                        <!-- <ngx-datatable-column name="Tracking ID" [sortable]="false" [width]="200">
                                <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                                    <p class="trackid" *ngIf="row.tracking_id != 'N/A'">
                                        <a href="{{row.tracking_id}}" target="_blank">Link</a>
                                    </p>
                                </ng-template>
                            </ngx-datatable-column>
            
                            <ngx-datatable-column name="Status" [sortable]="false" [width]="180">
                                <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                                      <p>{{row.status}}</p>
                                </ng-template>
                            </ngx-datatable-column> -->
                                    </ngx-datatable>
                                </div>
                                <mat-paginator
                                    style="background: #f1f2f8"
                                    [length]="total"
                                    [pageSize]="requestParam.pasgesize"
                                    [pageSizeOptions]="[5, 10, 25, 100]"
                                    (page)="getServerData($event)"
                                    aria-label="Select page"
                                >
                                </mat-paginator>
                            </div>
                        </div>
                    </div>
                    <div class="monthly-vital" *ngIf="periodicVitals == 3">
                        <div class="chart-block">
                            <div class="chart-block-header">
                                <div class="PeriodicText">
                                    <div class="periodic-col">
                                        <label>Average Sys</label>
                                        <p>{{ AverageSys }}mmHG</p>
                                    </div>
                                    <div class="periodic-col">
                                        <label>Average Dia</label>
                                        <p>{{ AverageDia }}mmHG</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-block-body" style="padding-left: 50px">
                                <div id="chartone" *ngIf="chartOptionsLineEnalbeOne">
                                    <apx-chart
                                        [series]="chartOptionsLineOne.series"
                                        [chart]="chartOptionsLineOne.chart"
                                        [xaxis]="chartOptionsLineOne.xaxis"
                                        [stroke]="chartOptionsLineOne.stroke"
                                        [tooltip]="chartOptionsLineOne.tooltip"
                                        [dataLabels]="chartOptionsLineOne.dataLabels"
                                        [legend]="chartOptionsLineOne.legend"
                                        [markers]="chartOptionsLineOne.markers"
                                        [grid]="chartOptionsLineOne.grid"
                                        [yaxis]="chartOptionsLineOne.yaxis"
                                        [title]="chartOptionsLineOne.title"
                                    ></apx-chart>
                                </div>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <div class="table-container">
                                <div class="table-block">
                                    <ngx-datatable
                                        class="material fullscreen"
                                        [rows]="(serverResponse | async) || []"
                                        [headerHeight]="$any('auto')"
                                        [footerHeight]="0"
                                        rowHeight="auto"
                                        [scrollbarH]="true"
                                        [externalPaging]="true"
                                        [count]="page1.totalElements"
                                        [offset]="page1.pageNumber"
                                        (page)="setPage($event)"
                                        (sort)="onSort($event)"
                                    >
                                        <ngx-datatable-column
                                            name="Reading Date"
                                            [sortable]="false"
                                            [width]="250"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                {{ row.entry_time }}
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            [cellClass]="'text-hidden'"
                                            name="Sys(mmHg)"
                                            [width]="300"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{
                                                        row.systolic
                                                    }}"
                                                >
                                                    {{ row.systolic }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            name="Dia(mmHg)"
                                            [width]="250"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{
                                                        row.diastolic
                                                    }}"
                                                >
                                                    {{ row.diastolic }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>

                                        <ngx-datatable-column
                                            name="BPM"
                                            [width]="100"
                                            [sortable]="false"
                                        >
                                            <ng-template
                                                let-row="row"
                                                let-rowIndex="rowIndex"
                                                ngx-datatable-cell-template
                                            >
                                                <span
                                                    matTooltip="{{ row.pulse }}"
                                                >
                                                    {{ row.pulse }}
                                                </span>
                                            </ng-template>
                                        </ngx-datatable-column>
                                        <ngx-datatable-column name="Username" [minWidth]="170" 
                                            [resizeable]="false" [sortable]="false">
                                          <ng-template let-column="column" ngx-datatable-header-template >
                                            <mat-button-toggle
                                                        matTooltip="Message Patient"
                                                        value="message"
                                                        (click)="msgPatient()"
                                                        >Message Patient</mat-button-toggle
                                                    >
                                          </ng-template>
                                      </ngx-datatable-column>
                                    </ngx-datatable>
                                </div>
                                <mat-paginator
                                    style="background: #f1f2f8"
                                    [length]="total"
                                    [pageSize]="requestParam.pasgesize"
                                    [pageSizeOptions]="[5, 10, 25, 100]"
                                    (page)="getServerData($event)"
                                    aria-label="Select page"
                                >
                                </mat-paginator>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Todo start -->
            <div class="notes-tab-container" *ngIf="todo == '1'">
                <div *ngIf="Message" class="toast-container {{ MessageClass }}">
                    <p>{{ Message }}</p>
                </div>
                <div class="filter-section lg:flex-nowrap mb-5">
                    <h3>Filter by</h3>
                    <div class="badge-filter">
                        <div class="badge-input">
                            <mat-checkbox
                                class="example-margin"
                                [(ngModel)]="openchecked"
                                (change)="filterChange('open')"
                                color="primary"
                                >Open</mat-checkbox
                            >
                            <span class="badge">
                                {{ opencount }}
                            </span>
                        </div>
                        <div class="badge-input">
                            <mat-checkbox
                                class="example-margin"
                                [(ngModel)]="closechecked"
                                (change)="filterChange('close')"
                                color="primary"
                                >Closed</mat-checkbox
                            >
                            <span class="badge">
                                {{ closecount }}
                            </span>
                        </div>
                        <div class="badge-input">
                            <mat-checkbox
                                class="example-margin"
                                [(ngModel)]="allchecked"
                                (change)="filterChange('all')"
                                color="primary"
                                >All</mat-checkbox
                            >
                            <span class="badge">
                                {{ totaltodo }}
                            </span>
                        </div>
                    </div>
                    <button
                        matTooltip="Add To Do"
                        mat-flat-button
                        class="primary outline-btn ml-auto"
                        style="
                            background: #bac529;
                            color: #fff;
                            font-weight: 800;
                        "
                        (click)="addToDo()"
                    >
                        Add To Do
                    </button>
                </div>
                <div class="filter-section mb-3">
                    <div class="flex items-center flex-wrap">
                        <mat-form-field
                            appearance="fill"
                            class="outline-input period-picker ml-auto"
                        >
                            <mat-date-range-input
                                [formGroup]="range"
                                [rangePicker]="picker"
                            >
                                <input
                                    matStartDate
                                    formControlName="start"
                                    #dateRangeStart
                                    placeholder="Select Period"
                                    readonly
                                />
                                <input
                                    matEndDate
                                    formControlName="end"
                                    #dateRangeEnd
                                    (dateChange)="
                                        dateRangeChangetodo(
                                            dateRangeStart,
                                            dateRangeEnd
                                        )
                                    "
                                    readonly
                                />
                            </mat-date-range-input>
                            <mat-datepicker-toggle matSuffix [for]="picker">
                                <img
                                    matDatepickerToggleIcon
                                    style="width: 15px"
                                    src="../../../../../assets/calendar.svg"
                                    alt=""
                                />
                            </mat-datepicker-toggle>
                            <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->

                            <mat-date-range-picker
                                #picker
                            ></mat-date-range-picker>
                        </mat-form-field>
                        <button
                            mat-stroked-button
                            class="outline-btn reset-btn ml-3"
                            matTooltip="Reset"
                            (click)="resetForm(dateRangeStart, dateRangeEnd)"
                        >
                            Reset
                        </button>
                    </div>

                    <div class="section-filters ml-auto mb-0">
                        <div class="search-field">
                            <mat-form-field>
                                <input
                                    matInput
                                    #searchInput
                                    placeholder="Search"
                                    (keyup)="searchfn($event)"
                                />
                                <mat-icon matSuffix>
                                    <img
                                        src="../../../../assets/search.svg"
                                        alt=""
                                    />
                                </mat-icon>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="table-container">
                    <div class="table-wrapper">
                        <div class="table-block">
                            <ngx-datatable
                                class="material fullscreen"
                                [rows]="(serverResponsetodo | async) || []"
                                [headerHeight]="$any('auto')"
                                [footerHeight]="0"
                                rowHeight="auto"
                                [scrollbarH]="true"
                                [externalPaging]="true"
                                [count]="pagetodo.totalElements"
                                [offset]="pagetodo.pageNumber"
                                (page)="setPagetodo($event)"
                                (sort)="onSorttodo($event)"
                            >
                                <ngx-datatable-column
                                    name="Due Date"
                                    [width]="200"
                                >
                                    <ng-template
                                        let-row="row"
                                        let-rowIndex="rowIndex"
                                        ngx-datatable-cell-template
                                    >
                                        {{ row.due_date | date: "dd/MM/yyyy" }}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    name="Item Type"
                                    [width]="300"
                                >
                                    <ng-template
                                        let-row="row"
                                        let-rowIndex="rowIndex"
                                        ngx-datatable-cell-template
                                    >
                                        <p class="address">
                                            {{ row.todo_type }}
                                        </p>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    name="Description"
                                    [width]="350"
                                >
                                    <ng-template
                                        let-row="row"
                                        let-rowIndex="rowIndex"
                                        ngx-datatable-cell-template
                                    >
                                        <p class="address">
                                            {{ row.description }}
                                        </p>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    name="Status"
                                    [width]="150"
                                >
                                    <ng-template
                                        let-row="row"
                                        let-rowIndex="rowIndex"
                                        ngx-datatable-cell-template
                                    >
                                        <p
                                            *ngIf="row.todoStatus == 1"
                                            style="color: #2ac770"
                                        >
                                            {{ row.status }}
                                        </p>
                                        <p
                                            *ngIf="row.todoStatus == 0"
                                            style="color: #d1d4de"
                                        >
                                            {{ row.status }}
                                        </p>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    name="Action"
                                    [sortable]="false"
                                    [width]="250"
                                >
                                    <ng-template
                                        let-row="row"
                                        let-rowIndex="rowIndex"
                                        ngx-datatable-cell-template
                                    >
                                        <button
                                            mat-icon-button
                                            class="notification-btn"
                                            matTooltip="Change Status"
                                        >
                                            <i class="indicator"> </i>
                                            <img
                                                *ngIf="row.todoStatus == 0"
                                                class="opacitylow"
                                                src="../../../../assets/icons/status.svg"
                                                alt=""
                                                (click)="statusChangeToDo(row)"
                                            />
                                            <img
                                                *ngIf="row.todoStatus == 1"
                                                src="../../../../assets/icons/status.svg"
                                                alt=""
                                                (click)="statusChangeToDo(row)"
                                            />
                                        </button>
                                        <button
                                            mat-icon-button
                                            class="notification-btn"
                                            matTooltip="Update"
                                        >
                                            <i class="indicator"> </i>
                                            <img
                                                *ngIf="row.todoStatus == 0"
                                                class="opacitylow"
                                                src="../../../../assets/icons/edit.svg"
                                                alt=""
                                                (click)="updateToDo(row)"
                                            />
                                            <img
                                                *ngIf="row.todoStatus == 1"
                                                src="../../../../assets/icons/edit.svg"
                                                alt=""
                                                (click)="updateToDo(row)"
                                            />
                                        </button>
                                        <button
                                            mat-icon-button
                                            class="notification-btn"
                                            matTooltip="Delete"
                                        >
                                            <i class="indicator"> </i>
                                            <img
                                                *ngIf="row.todoStatus == 0"
                                                class="opacitylow"
                                                src="../../../../assets/icons/delete.svg"
                                                alt=""
                                                (click)="deleteToDo(row)"
                                            />
                                            <img
                                                *ngIf="row.todoStatus == 1"
                                                src="../../../../assets/icons/delete.svg"
                                                alt=""
                                                (click)="deleteToDo(row)"
                                            />
                                        </button>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </div>
                        <mat-paginator
                            #paginatortoDo
                            style="background: #f1f2f8"
                            [length]="totaltodo"
                            [pageSize]="requestParamtodo.pasgesize"
                            [pageSizeOptions]="[5, 10, 25, 100]"
                            (page)="getServerDatatodo($event)"
                            aria-label="Select page"
                        >
                        </mat-paginator>
                    </div>
                </div>
            </div>
            <!-- Todo  end -->
            <!-- Alerts  start -->
            <div class="notes-tab-container" *ngIf="alerts == '1'">
                <div class="alert-list-page inner-scroll">
                    <div class="section-header mb-5">
                        <h2>Alerts</h2>
                    </div>

                    <div
                        *ngIf="Message"
                        class="toast-container {{ MessageClass }}"
                    >
                        <p>{{ Message }}</p>
                    </div>
                    <div class="filter-section lg:flex-nowrap mb-3">
                        <h3>Filter by</h3>
                        <div class="badge-filter">
                            <div class="badge-input">
                                <mat-checkbox
                                    class="example-margin"
                                    color="primary"
                                    [(ngModel)]="alertallChecked"
                                    (change)="alertFilterChange('all')"
                                    >All</mat-checkbox
                                >
                                <span class="badge"> {{ totalAlert }} </span>
                            </div>

                            <div class="badge-input">
                                <mat-checkbox
                                    class="example-margin"
                                    color="primary"
                                    (change)="alertFilterChange('unresolve')"
                                    [(ngModel)]="alertunresolveChecked"
                                    >Unresolved Alerts</mat-checkbox
                                >
                                <span class="badge">
                                    {{ unresolvecount }}
                                </span>
                            </div>

                            <div class="badge-input">
                                <mat-checkbox
                                    class="example-margin"
                                    color="primary"
                                    (change)="alertFilterChange('resolve')"
                                    [(ngModel)]="alertresolveChecked"
                                    >Resolved Alerts</mat-checkbox
                                >
                                <span class="badge"> {{ resolvecount }} </span>
                            </div>

                            <!-- <div class="badge-input">
                <mat-checkbox class="example-margin" color="primary"
                    >Blood Pressure</mat-checkbox
                >
                <span class="badge"> 1 </span>
            </div>

            <div class="badge-input">
                <mat-checkbox class="example-margin" color="primary"
                    >Weight</mat-checkbox
                >
                <span class="badge"> 1 </span>
            </div> -->
                        </div>
                    </div>
                    <div class="filter-section mb-3">
                        <div class="section-filters mb-0">
                            <!-- <div class="search-field mr-6 flex">
                                <mat-form-field>
                                    <input
                                        matInput
                                        #searchInputAlert
                                        placeholder="Enter a Patient Name/ID"
                                        (keyup)="searchfnAlert($event)"
                                    />
                                    <mat-icon matSuffix>
                                        <img
                                            src="../../../../assets/search.svg"
                                            alt=""
                                        />
                                    </mat-icon>
                                </mat-form-field>
                            </div> -->
                            <mat-form-field
                                appearance="fill"
                                class="outline-input period-picker"
                            >
                                <mat-date-range-input
                                    [formGroup]="rangeAlert"
                                    [rangePicker]="pickerAlert"
                                    [max]="todayDate"
                                >
                                    <input
                                        matStartDate
                                        formControlName="start"
                                        #dateRangeStart
                                        placeholder="Select Period"
                                        readonly
                                    />
                                    <input
                                        matEndDate
                                        formControlName="end"
                                        #dateRangeEnd
                                        (dateChange)="
                                            alertDateRangeChange(
                                                dateRangeStart,
                                                dateRangeEnd
                                            )
                                        "
                                        readonly
                                    />
                                </mat-date-range-input>
                                <mat-datepicker-toggle
                                    matSuffix
                                    [for]="pickerAlert"
                                >
                                    <img
                                        matDatepickerToggleIcon
                                        style="width: 15px"
                                        src="../../../../../assets/calendar.svg"
                                        alt=""
                                    />
                                </mat-datepicker-toggle>
                                <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->

                                <mat-date-range-picker
                                    #pickerAlert
                                ></mat-date-range-picker>
                            </mat-form-field>

                            <button
                                mat-stroked-button
                                class="outline-btn reset-btn ml-5"
                                matTooltip="Reset"
                                (click)="
                                    resetFormAlert(dateRangeStart, dateRangeEnd)
                                "
                            >
                                Reset
                            </button>
                        </div>
                        <div class="select-filter-container ml-auto">
                            <mat-form-field style="width: 9.375rem">
                                <mat-label>Sort By</mat-label>
                                <mat-select
                                    (selectionChange)="
                                        altfilterChange($event.value, 'sortBy')
                                    "
                                    [(ngModel)]="requestParamAlert.sortBy"
                                >
                                    <mat-option value="asc">
                                        Oldest
                                    </mat-option>
                                    <mat-option value="desc">
                                        Newest
                                    </mat-option>
                                    <!-- <mat-option value="pasc">
                                        Patient Name A-Z
                                    </mat-option>
                                    <mat-option value="pdesc">
                                        Patient Name Z-A
                                    </mat-option> -->
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="table-container">
                        <div class="table-wrapper">
                            <div class="table-block">
                                <ngx-datatable
                                    class="material fullscreen"
                                    [rows]="(serverResponseAlert | async) || []"
                                    [headerHeight]="$any('auto')"
                                    [footerHeight]="0"
                                    rowHeight="auto"
                                    [scrollbarH]="true"
                                    [externalPaging]="true"
                                    [count]="pageAlert1.totalElements"
                                    [offset]="pageAlert1.pageNumber"
                                    (page)="setPageAlert($event)"
                                    (sort)="onSortAlert($event)"
                                >
                                    <ngx-datatable-column
                                        name="Last alert"
                                        [width]="150"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            {{
                                                row.last_alert
                                                    | date: "dd/MM/yyyy"
                                            }}
                                        </ng-template>
                                    </ngx-datatable-column>

                                    <ngx-datatable-column
                                        name="Patient Details"
                                        [width]="300"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            <div class="avatar-detail-col">
                                                <!-- <img
                                            class="avatar"
                                            src="assets/images/avatars/doctor.jpg"
                                            alt=""
                                        /> -->
                                                <img
                                                    class="avatar"
                                                    src="assets/images/avatars/profile.jpg"
                                                    alt=""
                                                />
                                                <div class="avatar-info">
                                                    <p
                                                        *ngIf="
                                                            row.patient_id !=
                                                            null
                                                        "
                                                    >
                                                        {{ row.first_name }}
                                                        {{ row.last_name }}
                                                    </p>
                                                    <p
                                                        *ngIf="
                                                            row.patient_id ==
                                                            null
                                                        "
                                                    >
                                                        -
                                                    </p>
                                                    <span>
                                                        {{
                                                            row.patient_id
                                                        }}</span
                                                    >
                                                </div>
                                            </div>
                                            <!-- <p *ngIf="row.patient_id != null">
                                #{{ row.patient_id }}
                            </p>
                            <p *ngIf="row.patient_id == null">-</p> -->
                                        </ng-template>
                                    </ngx-datatable-column>

                                    <!-- <ngx-datatable-column
                        [cellClass]="'text-hidden'"
                        name="Patient Name"
                        [width]="200"
                    >
                        <ng-template
                            let-row="row"
                            let-rowIndex="rowIndex"
                            ngx-datatable-cell-template
                        >
                            <span
                                matTooltip="{{ row.first_name }} {{
                                    row.last_name
                                }}"
                            >
                                <p *ngIf="row.patient_id != null">
                                    {{ row.first_name }} {{ row.last_name }}
                                </p>
                                <p *ngIf="row.patient_id == null">-</p>
                            </span>
                        </ng-template>
                    </ngx-datatable-column> -->

                                    <ngx-datatable-column
                                        name="Type of alert"
                                        [width]="200"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            <p>
                                                {{ row.alert_type }}
                                            </p>
                                        </ng-template>
                                    </ngx-datatable-column>

                                    <ngx-datatable-column
                                        name="Description"
                                        [width]="250"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            <p>
                                                {{ row.description }}
                                            </p>
                                        </ng-template>
                                    </ngx-datatable-column>

                                    <ngx-datatable-column
                                        name="Resolution Status"
                                        [width]="200"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            <p
                                                *ngIf="row.alertsStatus == 1"
                                                style="color: #2ac770"
                                            >
                                                {{ row.status }}
                                            </p>
                                            <p
                                                *ngIf="row.alertsStatus == 0"
                                                style="color: #ea5455"
                                            >
                                                {{ row.status }}
                                            </p>
                                        </ng-template>
                                    </ngx-datatable-column>

                                    <ngx-datatable-column
                                        name="Action"
                                        [sortable]="false"
                                        [width]="100"
                                    >
                                        <ng-template
                                            let-row="row"
                                            let-rowIndex="rowIndex"
                                            ngx-datatable-cell-template
                                        >
                                            <button
                                                mat-icon-button
                                                class="view-btn"
                                                matTooltip="View"
                                                (click)="updateAlertDialog(row)"
                                            >
                                                <mat-icon>visibility</mat-icon>
                                            </button>
                                        </ng-template>
                                    </ngx-datatable-column>
                                </ngx-datatable>
                            </div>
                            <mat-paginator
                                #paginatorAlert
                                style="background: #f1f2f8"
                                [length]="totalAlert"
                                [pageSize]="requestParamAlert.pasgesize"
                                [pageSizeOptions]="[5, 10, 25, 100]"
                                (page)="getServerDataAlert($event)"
                                aria-label="Select page"
                            >
                            </mat-paginator>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Alerts  end -->
            <!-- notes  start -->
            <div class="notes-tab-container" *ngIf="notess == '1'">
                <mat-button-toggle-group class="notes-tab-filter inner-tab">
                    <mat-button-toggle
                        matTooltip="Patient Notes"
                        value="1"
                        (click)="changeNotes(1)"
                        [checked]="patientsNotes"
                        >Patient Notes</mat-button-toggle
                    >

                    <mat-button-toggle
                        matTooltip="Special Notes"
                        value="2"
                        (click)="changeNotes(2)"
                        [checked]="specialNotes"
                        >Special Notes
                    </mat-button-toggle>
                    <mat-button-toggle
                        matTooltip="Medication Notes"
                        value="3"
                        (click)="changeNotes(3)"
                        [checked]="medicationNotes"
                        >Medication Notes</mat-button-toggle
                    >
                    <mat-button-toggle
                        matTooltip="Order Notes"
                        value="4"
                        (click)="changeNotes(4)"
                        [checked]="orderNotes"
                        >Order Notes
                    </mat-button-toggle>
                </mat-button-toggle-group>
                <div class="note-tab-content">
                    <div class="note-header">
                        <div class="left-col">
                            <h3>Saved Notes</h3>
                            <div class="slider-input">
                                <label class="label"
                                    >Show only favorites?</label
                                >
                                <div class="toggle-switch">
                                    <input
                                        type="checkbox"
                                        hidden
                                        id="toggle"
                                        (change)="checkFav($event)"
                                    />
                                    <label
                                        class="toggle-slider"
                                        for="toggle"
                                    ></label>
                                </div>
                            </div>
                        </div>
                        <div class="right-col">
                            <button
                                mat-button
                                class="add-note-btn"
                                (click)="addNewNote()"
                                (click)="textareaNotes.focus()"
                            >
                                <mat-icon>
                                    <img
                                        src="../../../../../assets/add-icon.svg"
                                        alt=""
                                    />
                                </mat-icon>
                                Add New Note
                            </button>
                        </div>
                    </div>
                    <div class="note-body">
                        <div class="note-list-container">
                            <div class="note-list-header">
                                <label>Showing: </label>

                                <span>
                                    <mat-date-range-input
                                        [formGroup]="campaignOne"
                                        [rangePicker]="campaignOnePicker"
                                        [max]="todayDate"
                                    >
                                        <input
                                            matStartDate
                                            formControlName="start"
                                            #dateRangeStart
                                            readonly
                                            (dateChange)="
                                                dateRangeChange(
                                                    dateRangeStart,
                                                    dateRangeEnd
                                                )
                                            "
                                        />
                                        <input
                                            matEndDate
                                            formControlName="end"
                                            #dateRangeEnd
                                            readonly
                                            (dateChange)="
                                                dateRangeChange(
                                                    dateRangeStart,
                                                    dateRangeEnd
                                                )
                                            "
                                        />
                                    </mat-date-range-input>
                                    <mat-date-range-picker
                                        #campaignOnePicker
                                    ></mat-date-range-picker>

                                    <!-- <mat-date-range-input
                                    [rangePicker]="picker"
                                >
                                    <input
                                        matStartDate
                                        #dateRangeStart
                                        placeholder="Select Period"
                                        readonly
                                    />
                                    <input
                                        matEndDate
                                        #dateRangeEnd
                                        readonly
                                        (dateChange)="
                                            dateRangeChange(
                                                dateRangeStart,
                                                dateRangeEnd
                                            )
                                        "
                                    />
                                </mat-date-range-input>
                                <mat-date-range-picker
                                    #picker
                                ></mat-date-range-picker> -->

                                    <!-- Aug 03, 2021 - Aug 03, 2021 -->
                                </span>
                                <button
                                    class="reset-btn"
                                    (click)="resetRange()"
                                    matTooltip="Reset"
                                >
                                    Reset
                                </button>
                                <button
                                    mat-icon-button
                                    class="calender-icon"
                                    (click)="campaignOnePicker.open()"
                                >
                                    <mat-icon>
                                        <img
                                            src="../../../../../assets/white-calendar.svg"
                                            alt=""
                                        />
                                    </mat-icon>
                                </button>
                            </div>
                            <div class="note-list-body">
                                <ul>
                                    <li
                                        [ngClass]="{
                                            active: selectedItem == not.id
                                        }"
                                        (click)="listClick($event, not)"
                                        *ngFor="let not of patientNotes"
                                    >
                                        <div class="note-icon">
                                            <img
                                                src="../../../../../assets/message.svg"
                                                alt=""
                                            />
                                        </div>
                                        <div class="note-content">
                                            <div class="note-content-header">
                                                <span class="date">
                                                    {{ not.datetime1 }}</span
                                                >
                                                <span class="time">{{
                                                    not.datetime2
                                                }}</span>
                                            </div>
                                            <div class="note-star-merge">
                                                <p>
                                                    {{ not.notes }}
                                                </p>
                                                <img
                                                    *ngIf="not.favorite == '1'"
                                                    src="../../../../../assets/star.svg"
                                                />
                                            </div>
                                        </div>
                                        <div class="note-action">
                                            <button
                                                mat-icon-button
                                                (click)="deleteNotes(not.uuid)"
                                            >
                                                <mat-icon>
                                                    <img
                                                        src="../../../../../assets/delete.svg"
                                                        alt=""
                                                    />
                                                </mat-icon>
                                            </button>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="note-right-col">
                            <div class="note-detail-header">
                                <div class="left-col">
                                    <label>Notes</label>
                                    <div class="note-timeline">
                                        <span class="date">{{
                                            datetime1
                                        }}</span>
                                        <span class="time">{{
                                            datetime2
                                        }}</span>
                                    </div>
                                </div>
                                <div class="right-col">
                                    <div
                                        class="fav-checkbox"
                                        *ngIf="showMarkAsFav"
                                    >
                                        <input
                                            type="checkbox"
                                            name=""
                                            hidden
                                            id="fav"
                                            [(ngModel)]="favorited"
                                            (change)="changeFav($event)"
                                        />
                                        <label for="fav"
                                            >{{ favorited_text }}
                                            <i class="star-icon"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="note-detail-body">
                                <div class="note-input">
                                    <mat-form-field
                                        class="w-full"
                                        appearance="fill"
                                    >
                                        <mat-label>Message</mat-label>
                                        <textarea
                                            #textareaNotes
                                            rows="10"
                                            matInput
                                            [(ngModel)]="notesSelected"
                                        ></textarea>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="note-detail-footer">
                                <div class="note-detail-action">
                                    <button
                                        mat-stroked-button
                                        class="mr-3"
                                        (click)="cancelNotes()"
                                    >
                                        Cancel
                                    </button>
                                    <button
                                        *ngIf="insertOpen"
                                        mat-flat-button
                                        color="primary"
                                        (click)="saveNotes()"
                                    >
                                        Save
                                    </button>
                                    <button
                                        *ngIf="updateOpen"
                                        mat-flat-button
                                        color="primary"
                                        (click)="saveNotes()"
                                    >
                                        Update
                                    </button>
                                </div>
                                <!-- <button mat-stroked-button>Add a to-do item</button> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- notes End -->
            <ng-template #updatePatient>
                <div class="dialog-content-wrapper">
                    <div class="add-patient-modal">
                        <div class="modal-header">
                            <h2>Patient information</h2>
                        </div>
                        <div class="modal-body">
                            <div class="modal-tab-container">
                                <mat-button-toggle-group
                                    class="modal-tab"
                                    #group="matButtonToggleGroup"
                                    value="0"
                                >
                                    <mat-button-toggle
                                        matTooltip="Basic Info"
                                        (change)="onValChange($event.value)"
                                        value="0"
                                        >Basic Info
                                    </mat-button-toggle>
                                    <mat-button-toggle
                                        matTooltip="Device Info"
                                        (change)="onValChange($event.value)"
                                        value="1"
                                        >Device Info</mat-button-toggle
                                    >
                                    <mat-button-toggle
                                        matTooltip="ICD Code"
                                        (change)="onValChange($event.value)"
                                        value="2"
                                        >ICD Code</mat-button-toggle
                                    >
                                </mat-button-toggle-group>
                            </div>
                            <form [formGroup]="firstForm">
                                <div
                                    class="basicInfo"
                                    *ngIf="tab == 'basicInfo'"
                                >
                                    <p *ngIf="emailError">{{ emailError }}</p>
                                    <div class="input-block">
                                        <div class="grid grid-cols-6">
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <p>
                                                    <b>Enrollment date: </b
                                                    >{{ created_at }}
                                                </p>
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                    style="margin-top: 20px"
                                                >
                                                    <mat-label
                                                        >First Name &nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        ></mat-label
                                                    >
                                                    <input
                                                        type="text"
                                                        matInput
                                                        formControlName="firstName"
                                                        id="firstName"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .firstName,
                                                                'modelFirstName'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'firstName'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter First Name
                                                    </mat-error>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'firstName'
                                                                )
                                                                .hasError(
                                                                    'pattern'
                                                                )
                                                        "
                                                    >
                                                        Please Enter whithout
                                                        space
                                                    </mat-error>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'firstName'
                                                                )
                                                                .hasError(
                                                                    'whitespace'
                                                                )
                                                        "
                                                        >Please enter valid
                                                        data</mat-error
                                                    >
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <p>
                                                    <b
                                                        >Enrollment visit
                                                        completed by: </b
                                                    >{{ updated_at }}
                                                </p>
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Last Name &nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        ></mat-label
                                                    >
                                                    <input
                                                        matInput
                                                        formControlName="lastName"
                                                        id="lastName"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .lastName,
                                                                'modelLastName'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('lastName')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Last Name
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full date-picker"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Date Of Birth
                                                        &nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        ></mat-label
                                                    >
                                                    <input
                                                        matInput
                                                        [matDatepicker]="picker"
                                                        formControlName="dateOfBirth"
                                                        id="dateOfBirth"
                                                        [max]="tomorrow"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                    />
                                                    <mat-datepicker-toggle
                                                        matSuffix
                                                        [for]="picker"
                                                    >
                                                        <img
                                                            matDatepickerToggleIcon
                                                            style="width: 15px"
                                                            src="../../../../../assets/calendar.svg"
                                                            alt=""
                                                        />
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker
                                                        #picker
                                                    ></mat-datepicker>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'dateOfBirth'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Select Date of
                                                        Birth
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Email &nbsp;<!-- <span
                                                            style="color: red"
                                                            >*</span
                                                        > --></mat-label
                                                    >
                                                    <input
                                                        type="email"
                                                        matInput
                                                        formControlName="email"
                                                        id="email"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                    />
                                                    <!-- <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('email')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter the Email
                                                    </mat-error> -->
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('email')
                                                                .hasError(
                                                                    'pattern'
                                                                )
                                                        "
                                                    >
                                                        Please Enter the Valid
                                                        Email
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-span-2 sm:col-span-1">
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Code <!-- &nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        > --></mat-label
                                                    >
                                                    <input
                                                        mask="+0000"
                                                        matInput
                                                        formControlName="countryCode"
                                                        id="countrycode"
                                                        [errorStateMatcher]="matcher"
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('countryCode')
                                                                .hasError('required')
                                                        "
                                                    >
                                                        Please Enter Country Code
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-3 sm:col-span-2"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Mobile phone number
                                                        &nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        ></mat-label
                                                    >
                                                    <input
                                                        mask="(000) 000-0000"
                                                        matInput
                                                        formControlName="mobileNumber"
                                                        id="mobileNumber"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'mobileNumber'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Mobile
                                                        Number
                                                    </mat-error>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'mobileNumber'
                                                                )
                                                                .hasError(
                                                                    'pattern'
                                                                )
                                                        "
                                                    >
                                                        Please Enter 10 digit
                                                        Number
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Home phone number
                                                        &nbsp;<!-- <span
                                                            style="color: red"
                                                            >*</span
                                                        > --></mat-label
                                                    >
                                                    <input
                                                        mask="(000) 000-0000"
                                                        matInput
                                                        formControlName="homeNumber"
                                                        id="homeNumber"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'homeNumber'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Home Phone
                                                        Number
                                                    </mat-error>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'homeNumber'
                                                                )
                                                                .hasError(
                                                                    'pattern'
                                                                )
                                                        "
                                                    >
                                                        Please Enter 10 digit
                                                        Number
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="input-block">
                                        <p>
                                            <b>Primary Address </b>
                                        </p>
                                        <div class="grid grid-cols-6">
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Address Line
                                                        1</mat-label
                                                    >
                                                    <input
                                                        matInput
                                                        type="text"
                                                        formControlName="addressline1"
                                                        id="addressline1"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .addressline1,
                                                                'modelAddressLine1'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'addressline1'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Address
                                                        Line 1
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Address Line
                                                        2</mat-label
                                                    >
                                                    <input
                                                        matInput
                                                        type="text"
                                                        formControlName="addressline2"
                                                        id="addressline2"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .addressline2,
                                                                'modelAddressLine2'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get(
                                                                    'addressline2'
                                                                )
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Address
                                                        Line 2
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label>City</mat-label>
                                                    <input
                                                        matInput
                                                        type="text"
                                                        formControlName="city"
                                                        id="city"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .city,
                                                                'modelCity'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('city')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter City
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label>State</mat-label>
                                                    <mat-select
                                                        formControlName="state"
                                                        id="state"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        [(ngModel)]="fromState"
                                                    >
                                                        <mat-option
                                                            *ngFor="
                                                                let state of stateList
                                                            "
                                                            [value]="state.id"
                                                        >
                                                            {{ state.name }}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('state')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Select State
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label>Zip</mat-label>
                                                    <input
                                                        matInput
                                                        type="text"
                                                        formControlName="zip"
                                                        id="zip"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        (change)="
                                                            removeSpace(
                                                                firstForm.value
                                                                    .zip,
                                                                'modelZip'
                                                            )
                                                        "
                                                    />
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('zip')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Enter Zip
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <mat-checkbox
                                            formControlName="shippingAddress"
                                            [color]="'primary'"
                                            class="mb-6"
                                            (change)="
                                                shippingAddressChange($event)
                                            "
                                            [ngModel]="shippingAddressModel"
                                        >
                                            Shipping address and Billing address
                                            are same.
                                        </mat-checkbox>
                                        <div
                                            class="input-block"
                                            *ngIf="shippingAddressModel != true"
                                            class="shippingAddress"
                                        >
                                            <p>Shipping Address</p>

                                            <div class="grid grid-cols-6">
                                                <div
                                                    class="
                                                        col-span-6
                                                        sm:col-span-3
                                                    "
                                                >
                                                    <mat-form-field
                                                        class="w-full"
                                                        appearance="fill"
                                                    >
                                                        <mat-label
                                                            >Shipping Address
                                                            Line 1</mat-label
                                                        >
                                                        <input
                                                            matInput
                                                            type="text"
                                                            formControlName="shippingaddressline1"
                                                            id="shippingaddressline1"
                                                            [errorStateMatcher]="
                                                                matcher
                                                            "
                                                            (change)="
                                                                removeSpace(
                                                                    firstForm
                                                                        .value
                                                                        .shippingaddressline1,
                                                                    'modelShippingAddressLine1'
                                                                )
                                                            "
                                                        />
                                                        <mat-error
                                                            *ngIf="
                                                                firstForm
                                                                    .get(
                                                                        'shippingaddressline1'
                                                                    )
                                                                    .hasError(
                                                                        'required'
                                                                    )
                                                            "
                                                        >
                                                            Please Enter
                                                            Shipping Address
                                                            Line 1
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div
                                                    class="
                                                        col-span-6
                                                        sm:col-span-3
                                                    "
                                                >
                                                    <mat-form-field
                                                        class="w-full"
                                                        appearance="fill"
                                                    >
                                                        <mat-label
                                                            >Shipping Address
                                                            Line 2</mat-label
                                                        >
                                                        <input
                                                            matInput
                                                            type="text"
                                                            formControlName="shippingaddressline2"
                                                            id="shippingaddressline2"
                                                            [errorStateMatcher]="
                                                                matcher
                                                            "
                                                            (change)="
                                                                removeSpace(
                                                                    firstForm
                                                                        .value
                                                                        .shippingaddressline2,
                                                                    'modelShippingAddressLine2'
                                                                )
                                                            "
                                                        />
                                                        <mat-error
                                                            *ngIf="
                                                                firstForm
                                                                    .get(
                                                                        'shippingaddressline2'
                                                                    )
                                                                    .hasError(
                                                                        'required'
                                                                    )
                                                            "
                                                        >
                                                            Please Enter
                                                            Shipping Address
                                                            Line 2
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div
                                                    class="
                                                        col-span-6
                                                        sm:col-span-3
                                                    "
                                                >
                                                    <mat-form-field
                                                        class="w-full"
                                                        appearance="fill"
                                                    >
                                                        <mat-label
                                                            >Shipping
                                                            City</mat-label
                                                        >
                                                        <input
                                                            matInput
                                                            type="text"
                                                            formControlName="shippingcity"
                                                            id="city"
                                                            [errorStateMatcher]="
                                                                matcher
                                                            "
                                                            (change)="
                                                                removeSpace(
                                                                    firstForm
                                                                        .value
                                                                        .shippingcity,
                                                                    'modelShippingCity'
                                                                )
                                                            "
                                                        />
                                                        <mat-error
                                                            *ngIf="
                                                                firstForm
                                                                    .get(
                                                                        'shippingcity'
                                                                    )
                                                                    .hasError(
                                                                        'required'
                                                                    )
                                                            "
                                                        >
                                                            Please Enter
                                                            Shipping City
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div
                                                    class="
                                                        col-span-6
                                                        sm:col-span-3
                                                    "
                                                >
                                                    <mat-form-field
                                                        class="w-full"
                                                        appearance="fill"
                                                    >
                                                        <mat-label
                                                            >Shipping
                                                            State</mat-label
                                                        >
                                                        <mat-select
                                                            formControlName="shippingstate"
                                                            id="shippingstate"
                                                            [errorStateMatcher]="
                                                                matcher
                                                            "
                                                            [(ngModel)]="
                                                                shippState
                                                            "
                                                        >
                                                            <mat-option
                                                                *ngFor="
                                                                    let state of stateList
                                                                "
                                                                [value]="
                                                                    state.id
                                                                "
                                                            >
                                                                {{ state.name }}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error
                                                            *ngIf="
                                                                firstForm
                                                                    .get(
                                                                        'shippingstate'
                                                                    )
                                                                    .hasError(
                                                                        'required'
                                                                    )
                                                            "
                                                        >
                                                            Please Select
                                                            Shipping State
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div
                                                    class="
                                                        col-span-6
                                                        sm:col-span-3
                                                    "
                                                >
                                                    <mat-form-field
                                                        class="w-full"
                                                        appearance="fill"
                                                    >
                                                        <mat-label
                                                            >Shipping
                                                            Zip</mat-label
                                                        >
                                                        <input
                                                            matInput
                                                            type="text"
                                                            formControlName="shippingzip"
                                                            id="shippingzip"
                                                            [errorStateMatcher]="
                                                                matcher
                                                            "
                                                            (change)="
                                                                removeSpace(
                                                                    firstForm
                                                                        .value
                                                                        .shippingzip,
                                                                    'modelShippingZip'
                                                                )
                                                            "
                                                        />
                                                        <mat-error
                                                            *ngIf="
                                                                firstForm
                                                                    .get(
                                                                        'shippingzip'
                                                                    )
                                                                    .hasError(
                                                                        'required'
                                                                    )
                                                            "
                                                        >
                                                            Please Enter
                                                            Shipping Zip
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                            class="grid grid-cols-6 col-span-6"
                                        >
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                >
                                                    <mat-label
                                                        >Gender&nbsp;<span
                                                            style="color: red"
                                                            >*</span
                                                        ></mat-label
                                                    >
                                                    <mat-select
                                                        formControlName="gender"
                                                        id="gender"
                                                        [errorStateMatcher]="
                                                            matcher
                                                        "
                                                        [(ngModel)]="
                                                            selectGender
                                                        "
                                                    >
                                                        <mat-option value="0"
                                                            >Male</mat-option
                                                        >
                                                        <mat-option value="1"
                                                            >Female</mat-option
                                                        >
                                                    </mat-select>
                                                    <mat-error
                                                        *ngIf="
                                                            firstForm
                                                                .get('gender')
                                                                .hasError(
                                                                    'required'
                                                                )
                                                        "
                                                    >
                                                        Please Select Gender
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <mat-label
                                                    >Preferred
                                                    language</mat-label
                                                >
                                                <mat-radio-group
                                                    [color]="'primary'"
                                                    aria-label="Select an mat-option"
                                                    formControlName="preferredLanguage"
                                                    id="preferredLanguage"
                                                    [errorStateMatcher]="
                                                        matcher
                                                    "
                                                >
                                                    <!-- <mat-radio-button value="1">English</mat-radio-button>
                            <mat-radio-button value="2">Spanish</mat-radio-button> -->
                                                    <mat-radio-button
                                                        *ngFor="
                                                            let preferredLanguage of preferredLanguageList
                                                        "
                                                        [value]="
                                                            preferredLanguage.value
                                                        "
                                                        name="preferredLanguage.name"
                                                        [checked]="
                                                            preferredLanguage.checked
                                                        "
                                                        (change)="
                                                            radioSelectChange(
                                                                preferredLanguage,
                                                                preferredLanguageList
                                                            )
                                                        "
                                                        >{{
                                                            preferredLanguage.name
                                                        }}</mat-radio-button
                                                    >
                                                </mat-radio-group>
                                            </div>
                                        </div>
                                        <div class="flex mt-2">
                                            <p class="mr-4">
                                                Blood Pressure Threshold
                                                (average)
                                            </p>
                                            <mat-checkbox
                                                [color]="'primary'"
                                                class="mr-7"
                                                formControlName="sevendays"
                                            >
                                                7 Days
                                            </mat-checkbox>
                                            <mat-checkbox
                                                [color]="'primary'"
                                                formControlName="tenreadings"
                                            >
                                                10 Readings
                                            </mat-checkbox>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="deviceInfo"
                                    *ngIf="tab == 'deviceInfo'"
                                >
                                    <!-- Device Info Start -->
                                    <div class="device-info-container">
                                        <!-- <div class="image-uploader mb-4">
                                <input
                                    type="file"
                                    name=""
                                    hidden
                                    id="file"
                                    (change)="onSelect($event)"
                                />
                                <label for="file">
                                    <img
                                        *ngIf="defaultimg"
                                        class="profile-img"
                                        src="https://www.pixsy.com/wp-content/uploads/2021/04/ben-sweet-2LowviVHZ-E-unsplash-1.jpeg"
                                        alt=""
                                    />
                                    <img
                                        src="../../../../../assets/default-img.svg"
                                        alt=""
                                    />
                                    <div *ngIf="imgURL" style="height: 100%">
                                        <img
                                            [src]="imgURL"
                                            style="object-fit: contain"
                                            class="image_preview"
                                        />
                                    </div>
                                </label>
                            </div> -->
                                        <h3>Device Information</h3>
                                        <button
                                            ngif="deviceType"
                                            class="bp-link-btn"
                                            href=""
                                        >
                                            {{ deviceType }}
                                        </button>
                                        <div class="device-info-block">
                                            <h3 class="mb-4">
                                                Order Information:
                                            </h3>
                                            <div class="input-block">
                                                <div
                                                    class="
                                                        grid grid-cols-6
                                                        items-center
                                                    "
                                                >
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <label
                                                            >Kit order received
                                                            date:</label
                                                        >
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <p>
                                                            {{kitorderdate | date:'MMM dd,YYYY'}}
                                                        </p>
                                                        <!--<mat-form-field class=" date-picker" appearance="fill">
                                                     <input matInput [matDatepicker]="picker" formControlName="kitorderdate" id="kitorderdate" >
                                                    <mat-datepicker-toggle matSuffix [for]="picker">
                                                        <img matDatepickerToggleIcon style="width: 15px;" src="../../../../../assets/calendar.svg" alt="">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </mat-form-field> -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="input-block">
                                                <div
                                                    class="
                                                        grid grid-cols-6
                                                        items-center
                                                    "
                                                >
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <label
                                                            >Order processed
                                                            date:</label
                                                        >
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <p>
                                                            {{
                                                                orderprocesseddate
                                                            }}
                                                        </p>
                                                        <!--  <mat-form-field class=" date-picker" appearance="fill">
                                                    <input matInput [matDatepicker]="pickerprocessed" formControlName="orderprocesseddate" id="orderprocesseddate" >
                                                    <mat-datepicker-toggle matSuffix [for]="pickerprocessed">
                                                        <img matDatepickerToggleIcon style="width: 15px;" src="../../../../../assets/calendar.svg" alt="">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #pickerprocessed></mat-datepicker> 
                                                </mat-form-field>-->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="input-block">
                                                <div
                                                    class="
                                                        grid grid-cols-6
                                                        items-center
                                                    "
                                                >
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <label
                                                            >Order shipped
                                                            date:</label
                                                        >
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-6
                                                            sm:col-span-3
                                                        "
                                                    >
                                                        <p>
                                                            {{
                                                                ordershippeddate
                                                            }}
                                                        </p>
                                                        <!-- <mat-form-field class=" date-picker" appearance="fill">
                                                     <input matInput [matDatepicker]="pickershipped" formControlName="ordershippeddate" id="ordershippeddate" >
                                                    <mat-datepicker-toggle matSuffix [for]="pickershipped">
                                                        <img matDatepickerToggleIcon style="width: 15px;" src="../../../../../assets/calendar.svg" alt="">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #pickershipped></mat-datepicker> 
                                                </mat-form-field>-->
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <mat-form-field
                                                    class="w-full"
                                                    appearance="fill"
                                                    style="margin-top: 20px"
                                                >
                                                    <mat-label
                                                        >Hub Number &nbsp;</mat-label
                                                    >
                                                    <input
                                                        type="text"
                                                        matInput
                                                        formControlName="hubnumber"
                                                        id="hubnumber"
                                                    />
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <button
                                            mat-stroked-button
                                            class="outline-button"
                                        >
                                            Request Another Device
                                        </button>
                                    </div>
                                    <!-- Device Info End -->
                                </div>
                                <div class="icdcode" *ngIf="tab == 'icdcode'">
                                    <!-- ICD Code start -->
                                    <div class="ICD-code-container">
                                        <div
                                            class="
                                                grid grid-cols-6
                                                items-center
                                            "
                                        >
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <label>Current ICD Code:</label>
                                            </div>
                                            <div
                                                class="col-span-6 sm:col-span-3"
                                            >
                                                <span class="value">{{
                                                    icd
                                                }}</span>
                                            </div>
                                        </div>
                                        <!-- <div class="input-block mt-7">
                                            <label>Add ICD Code:</label>
                                            <mat-form-field
                                                class="w-full"
                                                appearance="fill"
                                            >
                                                <input
                                                    matInput
                                                    type="text"
                                                    formControlName="icdcode"
                                                    id="icdcode"
                                                    [errorStateMatcher]="
                                                        matcher
                                                    "
                                                    [(ngModel)]="modelIcd"
                                                />
                                            </mat-form-field>
                                        </div> -->
                                    </div>
                                    <!-- ICD Code end -->
                                </div>
                                <div class="form-action">
                                    <button
                                        mat-stroked-button
                                        class="cancel-btn"
                                        (click)="cancelPopup()"
                                    >
                                        Cancel
                                    </button>
                                    <button
                                        (click)="onfirstFormSubmit()"
                                        mat-flat-button
                                        color="primary"
                                        class="next-btn"
                                    >
                                        Save Patient Details
                                        <mat-icon
                                            aria-hidden="false"
                                            aria-label="Example home icon"
                                            >chevron_right</mat-icon
                                        >
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </ng-template>
            <ng-template #manageLogpopup>
                <div class="dialog-content-wrapper">
                    <div class="manage-log-modal">
                        <div class="modal-header">
                            <h2>Total time recorded in</h2>
                            <div class="log-filter">
                                <mat-form-field
                                    style="width: 130px"
                                    class="mr-4"
                                    appearance="fill"
                                >
                                    <mat-select
                                        [(ngModel)]="monthSelected"
                                        (selectionChange)="
                                            onChangeMonth($event)
                                        "
                                    >
                                        <mat-option
                                            *ngFor="let mon of months"
                                            [value]="mon.code"
                                            >{{ mon.name }}</mat-option
                                        >
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field
                                    style="width: 100px"
                                    appearance="fill"
                                >
                                    <mat-select
                                        [(ngModel)]="yearSelected"
                                        (selectionChange)="onChangeYear($event)"
                                    >
                                        <mat-option
                                            *ngFor="let year of tyears"
                                            [value]="year"
                                            >{{ year }}</mat-option
                                        >
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <span
                                class="time-duration"
                                *ngIf="!totalTimeRecored"
                            >
                                00:00:00
                            </span>
                            <span
                                class="time-duration"
                                *ngIf="totalTimeRecored"
                            >
                                {{ totalTimeRecored }}
                            </span>
                        </div>
                        <div class="modal-body mt-6">
                            <div class="">
                                <!-- mat-elevation-z8 -->
                                <table mat-table [dataSource]="dataSource1">
                                    <!-- date Column -->
                                    <ng-container matColumnDef="date">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Date
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.date }}
                                        </td>
                                    </ng-container>

                                    <!-- start_time Column -->
                                    <ng-container matColumnDef="start_time">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Start Time
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.start_time_format }}
                                        </td>
                                    </ng-container>

                                    <!-- end_time Column -->
                                    <ng-container matColumnDef="end_time">
                                        <th mat-header-cell *matHeaderCellDef>
                                            End Time
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.end_time_format }}
                                        </td>
                                    </ng-container>

                                    <!-- total_time Column -->
                                    <ng-container matColumnDef="total_time">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Total Time
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.total_time }}
                                        </td>
                                    </ng-container>
                                    <!-- reason Column -->
                                    <ng-container matColumnDef="reason">
                                        <th
                                            mat-header-cell
                                            *matHeaderCellDef
                                            width="80px"
                                        >
                                            Reason
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{
                                                element.reason
                                                    ? element.reason
                                                    : "-"
                                            }}
                                        </td>
                                    </ng-container>
                                    <!-- notes Column -->
                                    <ng-container matColumnDef="notes">
                                        <th
                                            mat-header-cell
                                            *matHeaderCellDef
                                            width="80px"
                                        >
                                            Notes
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            {{
                                                element.notes
                                                    ? element.notes
                                                    : "-"
                                            }}
                                        </td>
                                    </ng-container>
                                    <!-- Symbol Column -->
                                    <ng-container matColumnDef="action">
                                        <th mat-header-cell *matHeaderCellDef>
                                            Action
                                        </th>
                                        <td mat-cell *matCellDef="let element">
                                            <button
                                                mat-icon-button
                                                class="notification-btn"
                                                matTooltip="Delete"
                                                (click)="
                                                    deleteTimer(element.uuid)
                                                "
                                            >
                                                <i class="indicator"> </i>
                                                <img
                                                    class="opacitylow"
                                                    src="../../../../assets/icons/delete.svg"
                                                    alt=""
                                                />
                                            </button>
                                        </td>
                                    </ng-container>

                                    <tr
                                        mat-header-row
                                        *matHeaderRowDef="displayedColumns"
                                    ></tr>
                                    <tr
                                        mat-row
                                        *matRowDef="
                                            let row;
                                            columns: displayedColumns
                                        "
                                    ></tr>
                                </table>

                                <mat-paginator
                                    #paginatorTimer
                                    [pageSizeOptions]="[5, 10, 20]"
                                    showFirstLastButtons
                                >
                                </mat-paginator>
                            </div>
                        </div>
                        <div class="form-action mt-2">
                            <button
                                mat-stroked-button
                                class="cancel-btn"
                                (click)="cancelPopup()"
                            >
                                Cancel
                            </button>
                            <button
                                mat-flat-button
                                color="primary"
                                class="next-btn"
                                (click)="manualLog()"
                            >
                                <img
                                    class="mr-2"
                                    src="../../../../../assets/plus.svg"
                                    alt=""
                                />
                                Log Time Manually
                            </button>
                        </div>
                    </div>
                </div>
            </ng-template>

            <ng-template #manualLogpopup>
                <div class="dialog-content-wrapper">
                    <div class="add-patient-modal manual-log-modal">
                        <form [formGroup]="manualLogForm">
                            <div class="modal-header">
                                <h2>Log Time</h2>
                            </div>
                            <div class="modal-body mt-4">
                                <div class="confirm-checkbox-container">
                                    <mat-checkbox
                                        [color]="'primary'"
                                        (change)="confirmManualTimeLog($event)"
                                    >
                                        Confirm that the time being logged has
                                        not already been auto recorded in the
                                        past
                                    </mat-checkbox>
                                </div>
                                <div class="input-block">
                                    <div class="grid grid-cols-6 items-center">
                                        <div class="col-span-1 sm:col-span-3">
                                            <div
                                                class="calendar-container pr-5"
                                            >
                                                <mat-card
                                                    class="
                                                        demo-inline-calendar-card
                                                    "
                                                >
                                                    <mat-calendar
                                                        [selected]="
                                                            dateSelected
                                                        "
                                                        [minDate]="
                                                            firstDayOfMonth
                                                        "
                                                        [maxDate]="todayDate"
                                                        (selectedChange)="
                                                            dateSelected =
                                                                $event
                                                        "
                                                    ></mat-calendar>
                                                </mat-card>
                                            </div>
                                        </div>
                                        <div
                                            class="
                                                col-span-1
                                                sm:col-span-3
                                                -ml-3
                                            "
                                        >
                                            <div class="time-input-contaner">
                                                <label>Start Time</label>
                                                <div class="grid grid-cols-3">
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="starttimehour"
                                                                placeholder="HH"
                                                                (selectionChange)="
                                                                    changeStartHour(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let h of hr
                                                                    "
                                                                    [value]="h"
                                                                    >{{
                                                                        h
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="starttimemin"
                                                                placeholder="MM"
                                                                (selectionChange)="
                                                                    changeStartMin(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let m of min
                                                                    "
                                                                    [value]="m"
                                                                    >{{
                                                                        m
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="starttimesec"
                                                                placeholder=""
                                                                (selectionChange)="
                                                                    changeStartSec(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let s of sec
                                                                    "
                                                                    [value]="s"
                                                                    >{{
                                                                        s
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="time-input-contaner">
                                                <label>End Time</label>
                                                <div class="grid grid-cols-3">
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="endtimehour"
                                                                placeholder="HH"
                                                                (selectionChange)="
                                                                    changeEndHour(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let h of hr
                                                                    "
                                                                    [value]="h"
                                                                    >{{
                                                                        h
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="endtimemin"
                                                                placeholder="MM"
                                                                (selectionChange)="
                                                                    changeEndMin(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let m of min
                                                                    "
                                                                    [value]="m"
                                                                    >{{
                                                                        m
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-span-1
                                                            sm:col-span-1
                                                        "
                                                    >
                                                        <mat-form-field
                                                            appearance="fill"
                                                            class="w-full"
                                                        >
                                                            <mat-select
                                                                formControlName="endtimesec"
                                                                placeholder=""
                                                                (selectionChange)="
                                                                    changeEndSec(
                                                                        $event
                                                                    )
                                                                "
                                                            >
                                                                <mat-option
                                                                    *ngFor="
                                                                        let s of sec
                                                                    "
                                                                    [value]="s"
                                                                    >{{
                                                                        s
                                                                    }}</mat-option
                                                                >
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="total-time">
                                                <label>Total Time</label>
                                                <strong
                                                    *ngIf="
                                                        totalTime ==
                                                            '00:00:00' ||
                                                        totalTime == undefined
                                                    "
                                                    >Nil</strong
                                                >
                                                <strong
                                                    *ngIf="
                                                        totalTime != '00:00:00'
                                                    "
                                                    >{{ totalTime }}</strong
                                                >
                                            </div>
                                            <mat-error *ngIf="totalTimeGiven">
                                                Invalid time selection
                                            </mat-error>
                                        </div>
                                    </div>
                                    <div class="my-4">
                                        <mat-checkbox
                                            [color]="'primary'"
                                            formControlName="i_contacted_patient"
                                        >
                                            I contacted the patient
                                            <mat-error
                                                *ngIf="
                                                    manualLogForm
                                                        .get(
                                                            'i_contacted_patient'
                                                        )
                                                        .hasError('required')
                                                "
                                            >
                                                Please check this field
                                            </mat-error>
                                        </mat-checkbox>
                                    </div>
                                    <div class="w-3/6">
                                        <mat-form-field
                                            appearance="fill"
                                            class="w-full"
                                        >
                                            <mat-select
                                                formControlName="reason"
                                                placeholder="Reason"
                                            >
                                                <mat-option
                                                    *ngFor="let rsn of reasons"
                                                    [value]="rsn"
                                                    >{{ rsn }}</mat-option
                                                >
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="notes-field">
                                        <mat-form-field
                                            appearance="fill"
                                            class="w-full"
                                        >
                                            <textarea
                                                rows="3"
                                                matInput
                                                placeholder="Notes (Mandatory)"
                                                formControlName="notes"
                                                [(ngModel)]="modelnotes"
                                                (change)="
                                                    removeSpace(
                                                        manualLogForm.value.notes,
                                                        'modelnotes'
                                                    )
                                                "
                                            ></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="form-action mt-6">
                                <button
                                    mat-stroked-button
                                    class="cancel-btn"
                                    (click)="cancelPopup()"
                                >
                                    Cancel
                                </button>
                                <button
                                    mat-flat-button
                                    color="primary"
                                    class="next-btn"
                                    (click)="onManualFormSubmit()"
                                >
                                    Save
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </ng-template>

            <ng-template #messagePatient>
                <div class="dialog-content-wrapper">
                    <div class="manage-log-modal">
                        <div class="modal-header">
                            <h2>Message to patient</h2>
                        </div>
                        <div class="modal-body mt-6">
                            <div class="">
                                <!-- mat-elevation-z8 -->
                                <div class="notes-field">
                                    <mat-form-field
                                        appearance="fill"
                                        class="w-full"
                                    >
                                        <textarea
                                            rows="5"
                                            matInput
                                            [(ngModel)]="sendtext"
                                            maxlength="500"
                                        ></textarea>
                                    </mat-form-field>
                                    Notes: Maximum 500 characters allowed.
                                </div>
                            </div>
                        </div>
                        <div class="form-action mt-2">
                            <button
                                mat-stroked-button
                                class="cancel-btn"
                                (click)="cancelPopup()"
                            >
                                Cancel
                            </button>
                            <button
                                mat-flat-button
                                color="primary"
                                class="next-btn"
                                (click)="sendTextToPatient()"
                            >
                                Send
                            </button>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>
</div>

<ng-template #updateToDoList>
    <div class="dialog-content-wrapper">
        <div class="kitting-modal">
            <div class="modal-header">
                <h2>Edit To Do</h2>
            </div>
            <div class="modal-body">
                <form
                    [formGroup]="toDoForm"
                    (ngSubmit)="toDoFormSubmit()"
                    class="toDoForm"
                >
                    <div class="input-block">
                        <div class="grid grid-cols-5 gap-5">
                            <div class="col-span-1 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Select Item Type</mat-label>
                                    <mat-select
                                        formControlName="item_type"
                                        id="item_type"
                                        [(ngModel)]="item_type"
                                    >
                                        <mat-option
                                            *ngFor="let items of itemTypes"
                                            [value]="items"
                                            >{{ items }}</mat-option
                                        >
                                    </mat-select>
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('item_type')
                                                .hasError('required')
                                        "
                                    >
                                        Please Select Item Type
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-span-1 sm:col-span-2">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Due Date</mat-label>
                                    <input
                                        matInput
                                        [matDatepicker]="picker"
                                        formControlName="due_date"
                                        id="due_date"
                                        [(ngModel)]="due_date"
                                        [min]="mindate"
                                        readonly
                                    />
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('due_date')
                                                .hasError('required')
                                        "
                                    >
                                        Please Choose Due Date
                                    </mat-error>
                                    <mat-datepicker-toggle
                                        matSuffix
                                        [for]="picker"
                                    >
                                        <img
                                            matDatepickerToggleIcon
                                            style="width: 15px"
                                            src="../../../../../assets/calendar.svg"
                                            alt=""
                                        />
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="input-block">
                        <div class="grid grid-cols-1">
                            <div class="col-span-12 sm:col-span-1">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Description</mat-label>
                                    <textarea
                                        matInput
                                        formControlName="description"
                                        id="description"
                                        [(ngModel)]="description"
                                        rows="4"
                                        style="resize: none"
                                    ></textarea>
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('description')
                                                .hasError('required')
                                        "
                                    >
                                        Please Enter Description
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="form-action justify-center">
                        <button
                            mat-stroked-button
                            mat-button
                            mat-dialog-close
                            class="cancel-btn"
                            (click)="cancelPopup()"
                        >
                            Cancel
                        </button>
                        <button
                            mat-flat-button
                            color="primary"
                            class="next-btn"
                        >
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #addToDoList>
    <div class="dialog-content-wrapper">
        <div class="kitting-modal">
            <div class="modal-header">
                <h2>Add To Do</h2>
            </div>
            <div class="modal-body">
                <form
                    [formGroup]="toDoForm"
                    (ngSubmit)="toDoAddFormSubmit()"
                    class="toDoForm"
                >
                    <div class="input-block">
                        <div class="grid grid-cols-5 gap-5">
                            <div class="col-span-1 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Select Item Type</mat-label>
                                    <mat-select
                                        formControlName="item_type"
                                        id="item_type"
                                        [(ngModel)]="item_type"
                                        placeholder="Select"
                                    >
                                        <mat-option
                                            *ngFor="let items of itemTypes"
                                            [value]="items"
                                            >{{ items }}</mat-option
                                        >
                                    </mat-select>
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('item_type')
                                                .hasError('required')
                                        "
                                    >
                                        Please Select Item Type
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-span-1 sm:col-span-2">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Due Date</mat-label>
                                    <input
                                        matInput
                                        [matDatepicker]="picker"
                                        formControlName="due_date"
                                        id="due_date"
                                        [(ngModel)]="due_date"
                                        placeholder="Select"
                                        [min]="todayDate"
                                        readonly
                                    />
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('due_date')
                                                .hasError('required')
                                        "
                                    >
                                        Please Choose Due Date
                                    </mat-error>
                                    <mat-datepicker-toggle
                                        matSuffix
                                        [for]="picker"
                                    >
                                        <img
                                            matDatepickerToggleIcon
                                            style="width: 15px"
                                            src="../../../../../assets/calendar.svg"
                                            alt=""
                                        />
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="input-block">
                        <div class="grid grid-cols-1">
                            <div class="col-span-12 sm:col-span-1">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Description</mat-label>
                                    <textarea
                                        matInput
                                        formControlName="description"
                                        id="description"
                                        [(ngModel)]="description"
                                        rows="4"
                                        style="resize: none"
                                        (change)="
                                            removeSpace(
                                                toDoForm.value.description,
                                                'description'
                                            )
                                        "
                                    ></textarea>
                                    <mat-error
                                        *ngIf="
                                            toDoForm
                                                .get('description')
                                                .hasError('required')
                                        "
                                    >
                                        Please Enter Description
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <div class="form-action justify-center">
                        <button
                            mat-stroked-button
                            mat-button
                            mat-dialog-close
                            class="cancel-btn"
                            (click)="cancelPopup()"
                        >
                            Cancel
                        </button>
                        <button
                            mat-flat-button
                            color="primary"
                            class="next-btn"
                        >
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #thresholdFormDialog>
    <div class="dialog-content-wrapper">
        <div class="add-patient-modal">
            <div class="modal-header">
                <!-- <button class="back-btn" (click)="back()">
                    <mat-icon aria-hidden="false" aria-label="Example home icon"
                        >chevron_left</mat-icon
                    >
                    Back
                </button> -->
                <h2>Manage Threshold</h2>
                <!-- <span class="index"><strong>Step 4</strong>/4</span> -->
            </div>
            <div class="modal-body">
                <form [formGroup]="thresholdForm">
                    <div class="input-block">
                        <div class="flex justify-between mb-3">
                            <!-- <p
                                style="
                                    font-size: 1.125rem;
                                    font-weight: 600;
                                    color: #5e5873;
                                "
                            >
                                Select Threshold
                            </p> -->

                            <!-- <mat-checkbox
                                [color]="'primary'"
                                formControlName="thresholdLater"
                                (change)="thresholdLaterChange($event)"
                            >
                                I will set the threshold later
                            </mat-checkbox> -->
                        </div>
                    </div>
                    <div class="input-block">
                        <p>Blood Pressure Threshold (single reading)</p>
                        <div class="grid grid-cols-6">
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Sys high (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="syshigh"
                                        id="syshigh"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        [(ngModel)]="syshigh"
                                        (input)="
                                            onBpSingleReadingSys(
                                                $event.target.value
                                            )
                                        "
                                        (keypress)="validateNum($event)"
                                    />
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('syshigh')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('syshigh')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 999
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Sys low (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="syslow"
                                        id="syslow"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        [(ngModel)]="syslow"
                                        (input)="
                                            onBpSingleReadingSys(
                                                $event.target.value
                                            )
                                        "
                                        (keypress)="validateNum($event)"
                                    />
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('syslow')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('syslow')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than Sys high
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Dia high (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="diahigh"
                                        id="diahigh"
                                        [(ngModel)]="diahigh"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleReadingDia(
                                                $event.target.value
                                            )
                                        "
                                        (keypress)="validateNum($event)"
                                    />
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('diahigh')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('diahigh')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 999
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Dia low (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="dialow"
                                        id="dialow"
                                        [(ngModel)]="dialow"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleReadingDia(
                                                $event.target.value
                                            )
                                        "
                                        (keypress)="validateNum($event)"
                                    />

                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('dialow')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('dialow')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than Dia high
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex">
                            <p class="mr-3">
                                Blood Pressure Threshold (average)
                            </p>
                            <mat-checkbox
                                [color]="'primary'"
                                class="mr-7"
                                formControlName="sevendays"
                            >
                                7 Days
                            </mat-checkbox>
                            <mat-checkbox
                                [color]="'primary'"
                                formControlName="tenreadings"
                            >
                                10 Readings
                            </mat-checkbox>
                        </div>
                        <div class="grid grid-cols-6">
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Sys high (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="averagesyshigh"
                                        id="averagesyshigh"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleAverageSys(
                                                $event.target.value
                                            )
                                        "
                                        [(ngModel)]="averagesyshigh"
                                        (keypress)="validateNum($event)"
                                    />

                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagesyshigh')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagesyshigh')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 999
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Sys low (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="averagesyslow"
                                        id="averagesyslow"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleAverageSys(
                                                $event.target.value
                                            )
                                        "
                                        [(ngModel)]="averagesyslow"
                                        (keypress)="validateNum($event)"
                                    />

                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagesyslow')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagesyslow')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than Average Sys
                                        high
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Dia high (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="averagediahigh"
                                        id="averagediahigh"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleAverageDia(
                                                $event.target.value
                                            )
                                        "
                                        [(ngModel)]="averagediahigh"
                                        (keypress)="validateNum($event)"
                                    />

                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagediahigh')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagediahigh')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 999
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Dia low (mmHg)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="averagedialow"
                                        id="averagedialow"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="999"
                                        (input)="
                                            onBpSingleAverageDia(
                                                $event.target.value
                                            )
                                        "
                                        [(ngModel)]="averagedialow"
                                        (keypress)="validateNum($event)"
                                    />

                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagedialow')
                                                .hasError('min')
                                        "
                                    >
                                        Minimum value should be greater than 0
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('averagedialow')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than Average Dia
                                        high
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <!-- </div>
            <div class="input-block"> -->
                        <!-- <p>Weight Gain Threshold</p> -->
                        <!-- <div class="grid grid-cols-6">
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>24 hr (lbs)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="twentyfourhr"
                                        id="twentyfourhr"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="24"
                                        [(ngModel)]="twentyfourhr"
                                        (keypress)="validateNum($event)"
                                    />
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('twentyfourhr')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 24
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>72 hr (lbs)</mat-label>
                                    <input
                                        type="number"
                                        matInput
                                        formControlName="seventytwohr"
                                        id="seventytwohr"
                                        [errorStateMatcher]="matcher"
                                        min="0"
                                        max="72"
                                        [(ngModel)]="seventytwohr"
                                        (keypress)="validateNum($event)"
                                    />
                                    <mat-error
                                        *ngIf="
                                            thresholdForm
                                                .get('seventytwohr')
                                                .hasError('max')
                                        "
                                    >
                                        Value should be less than 72
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div> -->
                    </div>
                    <div class="form-action">
                        <button
                            mat-stroked-button
                            class="cancel-btn"
                            (click)="cancelPopupManageThreshold()"
                        >
                            Cancel
                        </button>
                        <button
                            mat-flat-button
                            color="primary"
                            class="next-btn"
                            (click)="onThresholdFormSubmit()"
                            [disabled]="isDisabled"
                        >
                            Update
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #updateResolve>
    <div class="dialog-content-wrapper">
        <div class="alert-modal">
            <div class="modal-header">
                <h2>
                    Alert for {{ selectedRow.first_name }}
                    {{ selectedRow.last_name }}
                </h2>

                <span
                    class="alert-tag-green"
                    *ngIf="selectedRow.alertsStatus == 1"
                >
                    Resolved Alert
                </span>
                <span class="alert-tag" *ngIf="selectedRow.alertsStatus == 0">
                    Unresolved Alert
                </span>
            </div>
            <div class="modal-body">
                <div class="blood-pressure-block">
                    <div class="block-header">
                        <label>Blood Pressure</label>
                        <span
                            >{{ selectedRow.last_alert | date: "MMM dd, yyyy" }}
                        </span>

                        <span class="ml-4">{{
                            selectedRow.last_alert | date: " h:mm a"
                        }}</span>
                    </div>
                    <div class="block-item">
                        <i class="icon"></i>
                        <p>
                            {{ selectedRow.description }}
                            <!-- Systolic <strong>7 mmHg</strong> higher than
                            threshold -->
                        </p>
                    </div>
                </div>
                <div class="notes-field input-block">
                    <mat-form-field appearance="fill" class="w-full">
                        <mat-label>Add Notes</mat-label>
                        <textarea
                            rows="4"
                            matInput
                            [(ngModel)]="alertNotes"
                            maxlength="120"
                            style="resize: none"
                            >{{ selectedRow.notes }}</textarea
                        >
                    </mat-form-field>
                </div>
            </div>
            <div class="form-action mt-2">
                <button
                    mat-stroked-button
                    class="cancel-btn"
                    (click)="cancelPopup()"
                >
                    Cancel
                </button>
                <button
                    mat-flat-button
                    color="primary"
                    class="next-btn"
                    (click)="resolveAct(1, selectedRow.alertsUuid)"
                    *ngIf="selectedRow.alertsStatus == 0"
                >
                    Resolve
                </button>

                <button
                    mat-flat-button
                    color="primary"
                    class="next-btn"
                    (click)="resolveAct(0, selectedRow.alertsUuid)"
                    *ngIf="selectedRow.alertsStatus == 1"
                    style="background-color: #ea5455"
                >
                    Unresolve
                </button>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #deleteReason>
    <div class="dialog-content-wrapper">
        <div class="delete-patient-modal">
            <div class="modal-header">
                <h2>Delete Patient</h2>
            </div>
            <div class="modal-body">
                <form [formGroup]="deleteForm">
                    <div class="input-block">
                        <div class="grid grid-cols-1">
                            <div class="col-span-12 sm:col-span-1">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label>Reason</mat-label>
                                    <mat-select
                                        formControlName="reason"
                                        id="reason"
                                        [errorStateMatcher]="matcher"
                                        [(ngModel)]="reason"
                                        (selectionChange)="onDeleteReason($event)"
                                    >
                                        <mat-option
                                            *ngFor="let reason of reasonList"
                                            [value]="reason.value"
                                        >
                                            {{ reason.name }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-span-12 sm:col-span-1" *ngIf="reason==3">
                                <mat-form-field
                                    class="w-full"
                                    appearance="fill"
                                >
                                    <mat-label
                                        >Description (Mandatory)</mat-label
                                    >
                                    <textarea
                                        matInput
                                        style="resize: none"
                                        rows="4"
                                        formControlName="notes"
                                    ></textarea>
                                    <mat-error
                                        *ngIf="
                                            deleteForm
                                                .get('notes')
                                                .hasError('required')
                                        "
                                    >
                                        Notes Required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <div class="form-action justify-center">
                        <button
                            mat-stroked-button
                            mat-button
                            mat-dialog-close
                            class="cancel-btn"
                            (click)="cancelDelete()"
                        >
                            Cancel
                        </button>
                        <button
                            mat-flat-button
                            color="primary"
                            class="next-btn"
                            (click)="deletePatient()"
                        >
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</ng-template>
